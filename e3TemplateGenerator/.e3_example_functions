#!/usr/bin/env bash
#
#  Copyright (c) 2018 - 2019    Jeong Han Lee
#  Copyright (c) 2018 - 2019    European Spallation Source ERIC
#
#  The program is free software: you can redistribute
#  it and/or modify it under the terms of the GNU General Public License
#  as published by the Free Software Foundation, either version 2 of the
#  License, or any newer version.
#
#  This program is distributed in the hope that it will be useful, but WITHOUT
#  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
#  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
#  more details.
#
#  You should have received a copy of the GNU General Public License along with
#  this program. If not, see https://www.gnu.org/licenses/gpl-2.0.txt
#
#
#   author  : Jeong Han Lee
#   email   : jeonghan.lee@gmail.com
#   date    : Friday, September 27 17:34:40 CEST 2019
#   version : 0.2.1


function addExampleSrc
{
    local DEST=${1}
    create_file_from_template "${_TEMPLATE_DIR}/src/sncExample.stt" "${DEST}/sncExample.stt" ""
    create_file_from_template "${_TEMPLATE_DIR}/src/sncExample.dbd" "${DEST}/sncExample.dbd" ""
    create_file_from_template "${_TEMPLATE_DIR}/src/dbSubExample.c" "${DEST}/dbSubExample.c" ""
    create_file_from_template "${_TEMPLATE_DIR}/src/dbSubExample.dbd" "${DEST}/dbSubExample.dbd" ""
    create_file_from_template "${_TEMPLATE_DIR}/src/myexampleHello.c" "${DEST}/myexampleHello.c" ""
    create_file_from_template "${_TEMPLATE_DIR}/src/myexampleHello.dbd" "${DEST}/myexampleHello.dbd" ""
}

function addExampleCmds
{
    local DEST=${1}
    create_file_from_template "${_TEMPLATE_DIR}/cmds/example.cmd" "${DEST}/example.cmd" "_EPICS_MODULE_NAME"
}

function addExampleDb
{
    local DEST=${1}
    # create_file_from_template "${_TEMPLATE_DIR}/db/circle.db" "${DEST}/circle.db" ""
    create_file_from_template "${_TEMPLATE_DIR}/db/dbExample1.db" "${DEST}/dbExample1.db" ""
    create_file_from_template "${_TEMPLATE_DIR}/db/dbExample2.db" "${DEST}/dbExample2.db" ""
    create_file_from_template "${_TEMPLATE_DIR}/db/dbSubExample.db" "${DEST}/dbSubExample.db" ""
 }


function add_local_example_makefile
{
    local SC_MODULE=$1
    create_file_from_template "${_TEMPLATE_DIR}/example.Makefile" "${SC_MODULE}.Makefile" "SC_USER SC_HASH SC_MODULE SC_LOGDATE SC_SCRIPTNAME SC_CURYEAR"
}

